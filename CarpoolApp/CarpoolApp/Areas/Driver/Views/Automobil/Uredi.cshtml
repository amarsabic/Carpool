@model AutomobilUrediVM
@{
    ViewData["Title"] = "Uredi";
    var slikaPath = "~/imgs/" + (Model.PostojecaSlikaPath ?? "carnotfound.jpg");
}

<link rel="stylesheet" href="~/css/driver.css" asp-append-version="true" />
<div class="row justify-content-center align-content-center">
    <form enctype="multipart/form-data" id="formaDodajVozilo" action="Uredi" method="post">
        <h2>Uredi vozilo</h2>
        <input asp-for="AutomobilId" hidden="hidden" />
        <input asp-for="PostojecaSlikaPath" hidden="hidden" />
        <div class="form-group">
            <label asp-for="Naziv" class="control-label"></label>
            <input asp-for="Naziv" class="form-control" placeholder="@Model.Naziv" />
            <span asp-validation-for="Naziv" class="text-danger"></span>
        </div>
        <div class="form-group">
            <label asp-for="Model" class="control-label"></label>
            <input asp-for="Model" class="form-control" placeholder="@Model.Model" />
            <span asp-validation-for="Model" class="text-danger"></span>
        </div>
        <div class="form-group">
            <label asp-for="Godiste" class="control-label"></label>
            <input asp-for="Godiste" class="form-control" placeholder="@Model.Godiste" />
            <span asp-validation-for="Godiste" class="text-danger"></span>
        </div>
        <div class="form-group">
            <label asp-for="BrojRegOznaka" class="control-label"></label>
            <input asp-for="BrojRegOznaka" class="form-control" placeholder="@Model.BrojRegOznaka" />
            <span asp-validation-for="BrojRegOznaka" class="text-danger"></span>
        </div>
        <div class="form-group">
            <label asp-for="DatumIstekaRegistracije" class="control-label"></label>
            <input asp-for="DatumIstekaRegistracije" class="form-control" placeholder="@Model.DatumIstekaRegistracije" />
            <span asp-validation-for="DatumIstekaRegistracije" class="text-danger"></span>
        </div>
        <div class="form-group">
            <label asp-for="Slika" class="control-label"></label>
            <div class="custom-file">
                <input asp-for="Slika" class="form-control custom-file-input" />
                <label class="custom-file-label">Kliknite ovdje da promijenite sliku...</label>
            </div>
        </div>
        <div class="form-group urediAutoSlika"> <img src="@slikaPath" class="slikaAuto" alt="Alternate Text" asp-append-version="true" /></div>
        <button class="btn btn-primary" type="submit">Sačuvaj</button>
        <a asp-action="Detalji" asp-controller="Automobil" asp-area="Driver" class="btn btn-primary" type="submit">Prekini</a>

        @section Scripts{
            <script>
                $(document).ready(function () {
                    $('.custom-file-input').on("change", function () {
                        var fileName = $(this).val().split("\\").pop();
                        $(this).next('.custom-file-label').html(fileName);
                    });
                });
            </script>
        }
    </form>
</div>
