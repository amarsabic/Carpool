@model CarpoolApp.Areas.Driver.ViewModels.Rezervacije.RezervacijeDetaljiVM

@{
    ViewData["Title"] = "Detalji";
}

<!-- Custom scripts for this template -->
<script src="~/bootstrapTheme/js/freelancer.min.js" asp-append-version="true"></script>

<!-- Contact Section -->
<section class="page-section portfolio" id="contact">
    <div class="container">

        <!-- Contact Section Heading -->
        <h5 class="page-section-heading text-center text-uppercase text-secondary mb-0">
            Rezervacije na moje vožnje
        </h5>

        <!-- Icon Divider -->
        <div class="divider-custom">
            <div class="divider-custom-line"></div>
            <div class="divider-custom-icon">
                <i class="fas fa-car"></i>
            </div>
            <div class="divider-custom-line"></div>
        </div>

        <div style="text-align:center;">
            <a class="btn btn-outline-dark" asp-action="MojaPutovanja" asp-controller="Rezervacije">
                <i class="fas fa-luggage-cart mr-2"></i>
                Moja putovanja
            </a>
            @*<a class="btn btn-primary" id="btnDodajVozilo" asp-area="Driver" asp-controller="Voznje" asp-action="Dodaj"><i class="fas fa-plus fa-2x"></i></a>*@
            <br />
            <br />
        </div>

        <!-- Contact Section Form -->
        <div class="row">
            <div class="col-lg-12 mx-auto">

                <table class="table table-bordered">
                    <thead class="thead-dark">
                        <tr>
                            <th>Polazak</th>
                            <th>Destinacija</th>
                            <th>Putnik</th>
                            <th>Datum vožnje</th>
                            <th>Datum rezervacije</th>
                            <th>Cijena</th>
                            <th>Opis prtljaga</th>
                        </tr>
                    </thead>
                    <tbody>
                        @{
                            for (int i = 0; i < Model.voznje.Count; i++)
                            {
                                for (int j = 0; j < Model.voznje[i].rezervacije.Count(); j++)
                                {
                                    <tr>
                                        <td>@Model.voznje[i].GradPolaska</td>

                                        @if (Model.voznje[i].rezervacije[j].NazivUsputnog != null)
                                        {
                                            <td>@Model.voznje[i].rezervacije[j].NazivUsputnog</td>
                                        }
                                        else
                                        {
                                            <td>@Model.voznje[i].GradDestinacija</td>
                                        }

                                        <td>@Model.voznje[i].rezervacije[j].ImePutnika</td>
                                        <td>@Model.voznje[i].DatumVoznje.ToString("dd/mm/yyyy")</td>
                                        <td>@Model.voznje[i].rezervacije[j].DatumRezervacije</td>

                                        @if (Model.voznje[i].rezervacije[j].NazivUsputnog != null)
                                        {
                                            <td>@Model.voznje[i].rezervacije[j].UsputniCijena</td>
                                        }
                                        else
                                        {
                                            <td>@Model.voznje[i].rezervacije[j].PunaCijena</td>
                                        }
                                        <td>@Model.voznje[i].rezervacije[j].OpisPrtljaga</td>
                                    </tr>
                                }
                            }
                        }
                    </tbody>
                </table>
            </div>
        </div>
        <div style="text-align:right;">
            <a class="btn btn-outline-success" asp-action="MojaPutovanja" asp-controller="Rezervacije">
                <i class="fas fa-list mr-2"></i>
                Prikaži historiju
            </a>
            @*<a class="btn btn-primary" id="btnDodajVozilo" asp-area="Driver" asp-controller="Voznje" asp-action="Dodaj"><i class="fas fa-plus fa-2x"></i></a>*@
            <br />
            <br />
        </div>
    </div>
</section>